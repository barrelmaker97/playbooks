obscura:
    auth:
        jwtSecret: ENC[AES256_GCM,data:M9YiuvQUvW9Hpei8YKdUcAA=,iv:f61yzPx6PoEubeDlULEpVZxFV98q5tmAOZOX4wde870=,tag:x5GxrOcj7nGbf30ry0iGZA==,type:str]
    telemetry:
        otlpEndpoint: http://otel.monitoring.svc.cluster.local:4318
        logFormat: json
postgresql:
    enabled: true
    primary:
        resourcesPreset: none
        resources:
            requests:
                cpu: 100m
                memory: 256Mi
            limits:
                memory: 512Mi
        persistence:
            enabled: true
            storageClass: longhorn
            size: 8Gi
    auth:
        password: ENC[AES256_GCM,data:tWANQLke3NqjbPROotVsU6wGHQ==,iv:+ibBpRO7Cxf8iq6HcaOrbUcn7/G8ekGdVFamsmBfwBY=,tag:hVQRuoqUcT8bXhiuRBdclg==,type:str]
    metrics:
        enabled: true
        resourcesPreset: none
        resources:
            requests:
                cpu: 100m
                memory: 128Mi
            limits:
                memory: 256Mi
        serviceMonitor:
            enabled: true
            namespace: barrelmaker
            labels:
                release: prometheus-stack
minio:
    persistence:
        enabled: true
        storageClass: longhorn
        size: 10Gi
    resources:
        requests:
            cpu: 100m
            memory: 256Mi
        limits:
            memory: 512Mi
    rootPassword: ENC[AES256_GCM,data:YvsrhEiNNpIpADbXbCdpH6oifQ==,iv:zwYMw6sAoUSjOF1E9yQDU+2HcoVAfDI3u02dAh/vxuo=,tag:ZMuBPBE3X8zQBDrShfyHpg==,type:str]
    metrics:
        serviceMonitor:
            enabled: true
            includeNode: true
            namespace: barrelmaker
            additionalLabels:
                release: prometheus-stack
podSecurityContext:
    fsGroup: 10001
    runAsGroup: 10001
    runAsUser: 10001
    runAsNonRoot: true
    seccompProfile:
        type: RuntimeDefault
resources:
    requests:
        cpu: 100m
        memory: 128Mi
    limits:
        memory: 256Mi
securityContext:
    allowPrivilegeEscalation: false
    capabilities:
        drop:
            - ALL
ingress:
    enabled: true
    className: nginx
    annotations:
        cert-manager.io/cluster-issuer: letsencrypt-prod
        nginx.ingress.kubernetes.io/enable-cors: "true"
        nginx.ingress.kubernetes.io/cors-allow-methods: GET, POST, PUT, OPTIONS, DELETE
        nginx.ingress.kubernetes.io/cors-allow-origin: https://rhelsing.github.io
        nginx.ingress.kubernetes.io/cors-allow-credentials: "true"
    hosts:
        - host: obscura.barrelmaker.dev
          paths:
            - path: /
              pathType: Prefix
    tls:
        - secretName: obscura-tls
          hosts:
            - obscura.barrelmaker.dev
sops:
    age:
        - recipient: age1wk5ucdcd2nzjs2ztpfhr2l0ds284p284f2c7grcmns7hsl0hp42syku7c6
          enc: |
            -----BEGIN AGE ENCRYPTED FILE-----
            YWdlLWVuY3J5cHRpb24ub3JnL3YxCi0+IFgyNTUxOSBhMXJLeWwvUDVhUkY1UEd2
            OHVPMks4aTZDM0QzZGRpM0JwZi90cXZDR1RnCnNFckJtWFVvYmZuMVB0aFNDL2NJ
            OXN6Rkc2K3d6aEJ1SDRuNEtQMXBEZmMKLS0tIHZMdk4rVlp2K251QUsyaU1MbEla
            QzVTMHhGSFhqTjBNaHBWMEovbFVpYzQKTRoOW6xSHa4xIp9VK9/T60CzsrlCwVG+
            EPDppEGO+WvmOgN51joNZG6+lBDeDbUI5Avh85rfNrvBVaszeePpoQ==
            -----END AGE ENCRYPTED FILE-----
    lastmodified: "2026-02-06T14:32:45Z"
    mac: ENC[AES256_GCM,data:iiFCAwf6BV8f0vV0smrwSfZiURca5R1mudmeP53N7ImFUSHbLKj7v6UDN2mdHfaJgb98K84qkbzq84m56IkVDJvU3QZ0FydSnkUREY0boByAdMMsHzyUasVpu8XgApgyw/WgWoLM5wV3VGIihQHTynAxxESFj0QrEMYnjvj7G0Q=,iv:RLoKybWVtUXatgRA4WexuthIy0AJOUaVlH61eBiIrv4=,tag:v9FEeRQTRP53SKMVgCe2lQ==,type:str]
    encrypted_regex: (^data|^stringData|^cluster|^secrets|^jwtSecret|^certs|^trustdinfo|^rootPassword|^password)
    version: 3.11.0
